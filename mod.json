{"id":"combined-mod","version":"0.0.1","dependencies":[],"events":{"events":{"dom-ready":{"on":["(mainWindow) => {\n    mainWindow.webContents.executeJavaScript(`\n      async function waitForElementToDisplay(selector, time) {\r\n  return new Promise((resolve, reject) => {\r\n    if (document.querySelector(selector) != null) {\r\n      resolve(true);\r\n    }\r\n    setTimeout(() => {\r\n      resolve(waitForElementToDisplay(selector, time));\r\n    }, time);\r\n  });\r\n}\r\n\r\nconst collapseArrowSvg = \\`<svg fill=\"#FFFFFF\" height=\"20px\" width=\"20px\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 489.3 489.3\" xml:space=\"preserve\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"> <g> <g> <path d=\"M476.9,232.45H147.2l55.9-55.9c4.8-4.8,4.8-12.5,0-17.3s-12.5-4.8-17.3,0l-76.8,76.8c-4.8,4.8-4.8,12.5,0,17.3l76.8,76.8 c2.4,2.4,5.5,3.6,8.7,3.6s6.3-1.2,8.7-3.6c4.8-4.8,4.8-12.5,0-17.3l-55.9-55.9H477c6.8,0,12.3-5.5,12.3-12.3 C489.2,237.85,483.7,232.45,476.9,232.45z\"></path> <path d=\"M24.5,476.25V13.05c0-6.8-5.5-12.3-12.3-12.3S0,6.25,0,13.05v463.2c0,6.8,5.5,12.3,12.2,12.3S24.5,483.05,24.5,476.25z\"></path> </g> </g> </g></svg>\\`;\r\nconst rightArrowSvg = \\`<svg fill=\"#FFFFFF\" height=\"15px\" width=\"20px\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 330 330\" xml:space=\"preserve\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"> <path id=\"XMLID_222_\" d=\"M250.606,154.389l-150-149.996c-5.857-5.858-15.355-5.858-21.213,0.001 c-5.857,5.858-5.857,15.355,0.001,21.213l139.393,139.39L79.393,304.394c-5.857,5.858-5.857,15.355,0.001,21.213 C82.322,328.536,86.161,330,90,330s7.678-1.464,10.607-4.394l149.999-150.004c2.814-2.813,4.394-6.628,4.394-10.606 C255,161.018,253.42,157.202,250.606,154.389z\"></path> </g></svg>\\`;\r\n\r\nfunction buildExpander(navHeight, navWidth) {\r\n  const expanding = document.createElement(\"div\");\r\n  expanding.id = \"expanding\";\r\n  expanding.style.height = navHeight;\r\n  expanding.style.width = navWidth;\r\n  expanding.style.backgroundColor = \"var(--background-primary)\";\r\n  return expanding;\r\n}\r\n\r\nfunction buildMinimizeArrow(navWidth) {\r\n  const minimizeArrow = document.createElement(\"div\");\r\n  minimizeArrow.style.width = navWidth;\r\n  minimizeArrow.style.height = \"20px\";\r\n  minimizeArrow.style.display = \"flex\";\r\n  minimizeArrow.style.justifyContent = \"flex-start\";\r\n  minimizeArrow.style.margin = \"2px 2px 2px 2px\";\r\n  minimizeArrow.style.cursor = \"pointer\";\r\n  return minimizeArrow;\r\n}\r\n\r\nfunction buildMinimizeIcon() {\r\n  const minimizeIcon = document.createElement(\"span\");\r\n  minimizeIcon.style.width = \"20px\";\r\n  minimizeIcon.style.height = \"20px\";\r\n  minimizeIcon.innerHTML = collapseArrowSvg;\r\n  minimizeIcon.style.color = \"var(--text-normal)\";\r\n  return minimizeIcon;\r\n}\r\n\r\nfunction makeMinimized(expanding, collapsedParent, nav, minimizeIcon) {\r\n  expanding.style.position = \"absolute\";\r\n  expanding.style.top = \"0px\";\r\n  expanding.style.right = \"0px\";\r\n  collapsedParent.appendChild(expanding);\r\n  expanding.style.width = \"20px\";\r\n  nav.style.visibility = \"hidden\";\r\n  minimizeIcon.innerHTML = rightArrowSvg;\r\n}\r\n\r\nfunction makeMaximized(expanding, navParent, nav, minimizeIcon, navWidth) {\r\n  expanding.style.position = \"relative\";\r\n  navParent.prepend(expanding);\r\n  expanding.style.width = navWidth;\r\n  nav.style.visibility = \"visible\";\r\n  minimizeIcon.innerHTML = collapseArrowSvg;\r\n}\r\n\r\nasync function run() {\r\n  console.log(\"Minimizeable DMs loaded\");\r\n  await waitForElementToDisplay(\"div[class^='sidebar_']\", 1000);\r\n  await waitForElementToDisplay(\"nav[aria-label^='Servers sidebar']\", 1000);\r\n\r\n  const nav = document.querySelector(\"div[class^='sidebar_'\");\r\n  const navHeight = nav.style.height;\r\n  const navWidth = nav.style.width;\r\n  const expanding = buildExpander(navHeight, navWidth);\r\n  const collapsedParent = document.querySelector(\r\n    \"nav[aria-label^='Servers sidebar']\"\r\n  );\r\n  const navParent = nav.parentNode;\r\n  expanding.appendChild(nav);\r\n  navParent.prepend(expanding);\r\n  const minimizeArrow = buildMinimizeArrow(navWidth);\r\n  nav.style.height = \"calc(100% - 20px)\";\r\n  expanding.insertBefore(minimizeArrow, nav);\r\n  const minimizeIcon = buildMinimizeIcon();\r\n  minimizeArrow.appendChild(minimizeIcon);\r\n  let isMinimized = false;\r\n  minimizeArrow.addEventListener(\"click\", () => {\r\n    if (!isMinimized) {\r\n      makeMinimized(expanding, collapsedParent, nav, minimizeIcon);\r\n      isMinimized = true;\r\n    } else {\r\n      makeMaximized(expanding, navParent, nav, minimizeIcon, navWidth);\r\n      isMinimized = false;\r\n    }\r\n  });\r\n}\r\nrun();\r\n\n      `);\n}","(mainWindow) => {\n    mainWindow.webContents.executeJavaScript(`\n      const themeMap = \\`\r\n  --activity-card-background: var(--primary-700);\r\n  --android-navigation-bar-background: var(--primary-830);\r\n  --android-navigation-scrim-background: hsl(var(--primary-830-hsl)/0.5);\r\n  --android-ripple: hsl(var(--white-500-hsl)/0.07);\r\n  --background-accent: var(--primary-530);\r\n  --background-floating: var(--primary-800);\r\n  --background-mentioned: hsl(var(--yellow-300-hsl)/0.1);\r\n  --background-mentioned-hover: hsl(var(--yellow-300-hsl)/0.08);\r\n  --background-message-automod: hsl(var(--red-400-hsl)/0.05);\r\n  --background-message-automod-hover: hsl(var(--red-400-hsl)/0.1);\r\n  --background-message-highlight: hsl(var(--brand-360-hsl)/0.08);\r\n  --background-message-highlight-hover: hsl(var(--brand-360-hsl)/0.06);\r\n  --background-message-hover: hsl(var(--primary-900-hsl)/0.06);\r\n  --background-mobile-primary: var(--primary-600);\r\n  --background-mobile-secondary: var(--primary-630);\r\n  --background-modifier-accent: hsl(var(--primary-500-hsl)/0.48);\r\n  --background-modifier-accent-2: hsl(var(--primary-500-hsl)/0.48);\r\n  --background-modifier-active: hsl(var(--primary-500-hsl)/0.48);\r\n  --background-modifier-hover: hsl(var(--primary-500-hsl)/0.3);\r\n  --background-modifier-selected: hsl(var(--primary-500-hsl)/0.6);\r\n  --background-nested-floating: var(--primary-630);\r\n  --background-primary: var(--primary-600);\r\n  --background-secondary: var(--primary-630);\r\n  --background-secondary-alt: var(--primary-660);\r\n  --background-tertiary: var(--primary-700);\r\n  --bg-backdrop: hsl(var(--black-500-hsl)/0.7);\r\n  --bg-base-primary: var(--primary-600);\r\n  --bg-base-secondary: var(--primary-630);\r\n  --bg-base-tertiary: var(--primary-660);\r\n  --bg-mod-faint: hsl(var(--primary-500-hsl)/0.3);\r\n  --bg-mod-strong: hsl(var(--primary-500-hsl)/0.54);\r\n  --bg-mod-subtle: hsl(var(--primary-500-hsl)/0.48);\r\n  --bg-surface-overlay: var(--primary-800);\r\n  --bg-surface-overlay-tmp: var(--primary-800);\r\n  --bg-surface-raised: var(--primary-600);\r\n  --blur-fallback: hsl(var(--primary-700-hsl)/0.96);\r\n  --blur-fallback-pressed: hsl(var(--primary-730-hsl)/0.96);\r\n  --border-faint: hsl(var(--white-500-hsl)/0.03);\r\n  --border-strong: hsl(var(--white-500-hsl)/0.16);\r\n  --border-subtle: hsl(var(--white-500-hsl)/0.08);\r\n  --bug-reporter-modal-submitting-background: hsl(var(--primary-800-hsl)/0.6);\r\n  --button-creator-revenue-background: var(--teal-430);\r\n  --button-danger-background: var(--red-430);\r\n  --button-danger-background-active: var(--red-530);\r\n  --button-danger-background-disabled: var(--red-430);\r\n  --button-danger-background-hover: var(--red-500);\r\n  --button-outline-brand-background: hsl(var(--white-500-hsl)/0);\r\n  --button-outline-brand-background-active: var(--brand-560);\r\n  --button-outline-brand-background-hover: var(--brand-500);\r\n  --button-outline-brand-border: var(--brand-500);\r\n  --button-outline-brand-border-active: var(--brand-560);\r\n  --button-outline-brand-border-hover: var(--brand-500);\r\n  --button-outline-brand-text: var(--white-500);\r\n  --button-outline-brand-text-active: var(--white-500);\r\n  --button-outline-brand-text-hover: var(--white-500);\r\n  --button-outline-danger-background: hsl(var(--white-500-hsl)/0);\r\n  --button-outline-danger-background-active: var(--red-460);\r\n  --button-outline-danger-background-hover: var(--red-430);\r\n  --button-outline-danger-border: var(--red-400);\r\n  --button-outline-danger-border-active: var(--red-430);\r\n  --button-outline-danger-border-hover: var(--red-430);\r\n  --button-outline-danger-text: var(--white-500);\r\n  --button-outline-danger-text-active: var(--white-500);\r\n  --button-outline-danger-text-hover: var(--white-500);\r\n  --button-outline-positive-background: hsl(var(--white-500-hsl)/0);\r\n  --button-outline-positive-background-active: var(--green-530);\r\n  --button-outline-positive-background-hover: var(--green-430);\r\n  --button-outline-positive-border: var(--green-360);\r\n  --button-outline-positive-border-active: var(--green-530);\r\n  --button-outline-positive-border-hover: var(--green-430);\r\n  --button-outline-positive-text: var(--white-500);\r\n  --button-outline-positive-text-active: var(--white-500);\r\n  --button-outline-positive-text-hover: var(--white-500);\r\n  --button-outline-primary-background: hsl(var(--white-500-hsl)/0);\r\n  --button-outline-primary-background-active: var(--primary-430);\r\n  --button-outline-primary-background-hover: var(--primary-500);\r\n  --button-outline-primary-border: var(--primary-500);\r\n  --button-outline-primary-border-active: var(--primary-430);\r\n  --button-outline-primary-border-hover: var(--primary-500);\r\n  --button-outline-primary-text: var(--white-500);\r\n  --button-outline-primary-text-active: var(--white-500);\r\n  --button-outline-primary-text-hover: var(--white-500);\r\n  --button-positive-background: var(--green-430);\r\n  --button-positive-background-active: var(--green-530);\r\n  --button-positive-background-disabled: var(--green-430);\r\n  --button-positive-background-hover: var(--green-500);\r\n  --button-secondary-background: var(--primary-500);\r\n  --button-secondary-background-active: var(--primary-400);\r\n  --button-secondary-background-disabled: var(--primary-500);\r\n  --button-secondary-background-hover: var(--primary-430);\r\n  --card-gradient-bg: hsl(var(--black-500-hsl)/0.7);\r\n  --card-gradient-pressed-bg: hsl(var(--black-500-hsl)/0.5);\r\n  --card-primary-bg: var(--primary-560);\r\n  --card-primary-pressed-bg: var(--primary-645);\r\n  --card-secondary-bg: var(--primary-560);\r\n  --card-secondary-pressed-bg: var(--primary-645);\r\n  --channel-icon: var(--primary-400);\r\n  --channel-text-area-placeholder: var(--primary-430);\r\n  --channels-default: var(--primary-360);\r\n  --channeltextarea-background: var(--primary-560);\r\n  --chat-background: var(--primary-600);\r\n  --chat-border: var(--primary-700);\r\n  --chat-input-container-background: var(--primary-600);\r\n  --control-brand-foreground: var(--brand-360);\r\n  --control-brand-foreground-new: var(--brand-360);\r\n  --creator-revenue-icon-gradient-end: var(--teal-430);\r\n  --creator-revenue-icon-gradient-start: var(--teal-360);\r\n  --creator-revenue-info-box-background: hsl(var(--teal-430-hsl)/0.1);\r\n  --creator-revenue-info-box-border: var(--teal-400);\r\n  --creator-revenue-locked-channel-icon: var(--teal-345);\r\n  --creator-revenue-progress-bar: var(--teal-400);\r\n  --deprecated-card-bg: hsl(var(--primary-700-hsl)/0.6);\r\n  --deprecated-card-editable-bg: hsl(var(--primary-700-hsl)/0.3);\r\n  --deprecated-quickswitcher-input-background: var(--primary-400);\r\n  --deprecated-quickswitcher-input-placeholder: hsl(var(--white-500-hsl)/0.3);\r\n  --deprecated-store-bg: var(--primary-600);\r\n  --deprecated-text-input-bg: var(--primary-700);\r\n  --deprecated-text-input-border: hsl(var(--black-500-hsl)/0.3);\r\n  --deprecated-text-input-border-disabled: var(--primary-700);\r\n  --deprecated-text-input-border-hover: var(--primary-900);\r\n  --deprecated-text-input-prefix: var(--primary-200);\r\n  --display-banner-overflow-background: hsl(var(--primary-700-hsl)/0.5);\r\n  --divider-strong: hsl(var(--white-500-hsl)/0.16);\r\n  --divider-subtle: hsl(var(--white-500-hsl)/0.08);\r\n  --forum-post-extra-media-count-container-background: hsl(var(--primary-660-hsl)/0.8);\r\n  --forum-post-tag-background: hsl(var(--primary-660-hsl)/0.9);\r\n  --guild-notifications-bottom-sheet-pill-background: var(--primary-700);\r\n  --header-muted: var(--primary-360);\r\n  --header-primary: var(--primary-130);\r\n  --header-secondary: var(--primary-330);\r\n  --home-background: var(--primary-645);\r\n  --home-card-resting-border: hsl(var(--transparent-hsl)/0);\r\n  --icon-muted: var(--primary-500);\r\n  --icon-primary: var(--primary-130);\r\n  --icon-secondary: var(--primary-330);\r\n  --info-danger-background: hsl(var(--red-400-hsl)/0.1);\r\n  --info-danger-foreground: var(--red-400);\r\n  --info-danger-text: var(--white-500);\r\n  --info-help-background: hsl(var(--blue-345-hsl)/0.1);\r\n  --info-help-foreground: var(--blue-345);\r\n  --info-help-text: var(--white-500);\r\n  --info-positive-background: hsl(var(--green-360-hsl)/0.1);\r\n  --info-positive-foreground: var(--green-360);\r\n  --info-positive-text: var(--white-500);\r\n  --info-warning-background: hsl(var(--yellow-300-hsl)/0.1);\r\n  --info-warning-foreground: var(--yellow-300);\r\n  --info-warning-text: var(--white-500);\r\n  --input-background: var(--primary-700);\r\n  --input-placeholder-text: var(--input-placeholder-text-dark);\r\n  --input-pressed-background: var(--primary-660);\r\n  --interactive-active: var(--white-500);\r\n  --interactive-hover: var(--primary-230);\r\n  --interactive-muted: var(--primary-500);\r\n  --interactive-normal: var(--primary-330);\r\n  --legacy-android-blur-overlay-default: hsl(var(--primary-660-hsl)/0.5);\r\n  --legacy-android-blur-overlay-ultra-thin: hsl(var(--black-500-hsl)/0.025);\r\n  --legacy-blur-fallback-default: hsl(var(--primary-660-hsl)/0.975);\r\n  --legacy-blur-fallback-ultra-thin: hsl(var(--black-500-hsl)/0.95);\r\n  --live-stage-tile-border: hsl(var(--primary-500-hsl)/0.6);\r\n  --logo-primary: var(--white-500);\r\n  --mention-background: hsl(var(--brand-500-hsl)/0.3);\r\n  --mention-foreground: var(--brand-260);\r\n  --modal-background: var(--primary-600);\r\n  --modal-footer-background: var(--primary-630);\r\n  --profile-gradient-card-background: hsl(var(--black-500-hsl)/0.7);\r\n  --profile-gradient-message-input-border: hsl(var(--primary-500-hsl)/0.48);\r\n  --profile-gradient-note-background: hsl(var(--black-500-hsl)/0.3);\r\n  --profile-gradient-overlay: hsl(var(--black-500-hsl)/0.6);\r\n  --profile-gradient-overlay-synced-with-user-theme: hsl(var(--black-500-hsl)/0.8);\r\n  --profile-gradient-profile-body-background-hover: hsl(var(--white-500-hsl)/0.16);\r\n  --profile-gradient-role-pill-background: hsl(var(--primary-660-hsl)/0.5);\r\n  --profile-gradient-role-pill-border: hsl(var(--white-500-hsl)/0.2);\r\n  --profile-gradient-section-box: hsl(var(--black-500-hsl)/0.45);\r\n  --redesign-activity-card-background: var(--primary-560);\r\n  --redesign-activity-card-background-pressed: var(--primary-630);\r\n  --redesign-activity-card-badge-icon: var(--primary-360);\r\n  --redesign-activity-card-border: hsl(var(--white-500-hsl)/0.02);\r\n  --redesign-activity-card-overflow-background: var(--primary-630);\r\n  --redesign-button-danger-background: var(--red-430);\r\n  --redesign-button-danger-pressed-background: var(--red-460);\r\n  --redesign-button-danger-text: var(--white-500);\r\n  --redesign-button-overlay-alpha-background: hsl(var(--black-500-hsl)/0.54);\r\n  --redesign-button-overlay-alpha-pressed-background: hsl(var(--black-500-hsl)/0.64);\r\n  --redesign-button-overlay-alpha-text: var(--white-500);\r\n  --redesign-button-overlay-background: var(--white-500);\r\n  --redesign-button-overlay-pressed-background: var(--primary-230);\r\n  --redesign-button-overlay-text: var(--primary-860);\r\n  --redesign-button-positive-background: var(--green-430);\r\n  --redesign-button-positive-pressed-background: var(--green-460);\r\n  --redesign-button-positive-text: var(--white-500);\r\n  --redesign-button-primary-alt-background: hsl(var(--brand-500-hsl)/0);\r\n  --redesign-button-primary-alt-border: var(--brand-360);\r\n  --redesign-button-primary-alt-on-blurple-background: hsl(var(--brand-530-hsl)/0);\r\n  --redesign-button-primary-alt-on-blurple-border: var(--white-500);\r\n  --redesign-button-primary-alt-on-blurple-pressed-background: var(--brand-530);\r\n  --redesign-button-primary-alt-on-blurple-pressed-border: var(--brand-360);\r\n  --redesign-button-primary-alt-on-blurple-text: var(--white-500);\r\n  --redesign-button-primary-alt-pressed-background: hsl(var(--brand-700-hsl)/0.16);\r\n  --redesign-button-primary-alt-pressed-border: hsl(var(--brand-400-hsl)/0.5);\r\n  --redesign-button-primary-alt-pressed-text: var(--brand-360);\r\n  --redesign-button-primary-alt-text: var(--brand-360);\r\n  --redesign-button-primary-background: var(--brand-500);\r\n  --redesign-button-primary-on-blurple-background: var(--white-500);\r\n  --redesign-button-primary-on-blurple-pressed-background: var(--brand-200);\r\n  --redesign-button-primary-on-blurple-pressed-text: var(--brand-530);\r\n  --redesign-button-primary-on-blurple-text: var(--brand-500);\r\n  --redesign-button-primary-pressed-background: var(--brand-560);\r\n  --redesign-button-primary-text: var(--white-500);\r\n  --redesign-button-secondary-alt-background: var(--primary-660);\r\n  --redesign-button-secondary-alt-pressed-background: var(--primary-560);\r\n  --redesign-button-secondary-alt-pressed-text: var(--primary-330);\r\n  --redesign-button-secondary-alt-text: var(--primary-230);\r\n  --redesign-button-secondary-background: var(--primary-460);\r\n  --redesign-button-secondary-border: hsl(var(--white-500-hsl)/0.08);\r\n  --redesign-button-secondary-pressed-background: var(--primary-500);\r\n  --redesign-button-secondary-pressed-border: hsl(var(--transparent-hsl)/0);\r\n  --redesign-button-secondary-text: var(--primary-230);\r\n  --redesign-chat-input-background: var(--primary-700);\r\n  --redesign-input-control-active-bg: var(--primary-645);\r\n  --redesign-input-control-selected: var(--brand-500);\r\n  --redesign-only-background-active: var(--primary-530);\r\n  --redesign-only-background-default: var(--primary-600);\r\n  --redesign-only-background-overlay: var(--primary-645);\r\n  --redesign-only-background-raised: var(--primary-630);\r\n  --redesign-only-background-sunken: var(--primary-660);\r\n  --scrollbar-auto-scrollbar-color-thumb: var(--primary-730);\r\n  --scrollbar-auto-scrollbar-color-track: var(--primary-630);\r\n  --scrollbar-auto-thumb: var(--primary-730);\r\n  --scrollbar-auto-track: var(--primary-630);\r\n  --scrollbar-thin-thumb: var(--primary-730);\r\n  --scrollbar-thin-track: hsl(var(--black-500-hsl)/0);\r\n  --spoiler-hidden-background: var(--primary-700);\r\n  --spoiler-revealed-background: var(--primary-660);\r\n  --status-danger: var(--red-400);\r\n  --status-danger-background: var(--red-400);\r\n  --status-danger-text: var(--white-500);\r\n  --status-dnd: var(--red-400);\r\n  --status-idle: var(--yellow-300);\r\n  --status-offline: var(--primary-360);\r\n  --status-online: var(--green-360);\r\n  --status-positive: var(--green-360);\r\n  --status-positive-background: var(--green-430);\r\n  --status-positive-text: var(--white-500);\r\n  --status-speaking: var(--green-360);\r\n  --status-warning: var(--yellow-300);\r\n  --status-warning-background: var(--yellow-300);\r\n  --status-warning-text: var(--black-500);\r\n  --text-brand: var(--brand-360);\r\n  --text-danger: var(--red-345);\r\n  --text-link: var(--blue-345);\r\n  --text-link-low-saturation: var(--blue-330);\r\n  --text-low-contrast: var(--primary-360);\r\n  --text-message-preview-low-sat: var(--primary-360);\r\n  --text-muted: var(--primary-360);\r\n  --text-muted-on-default: var(--primary-330);\r\n  --text-normal: var(--primary-230);\r\n  --text-positive: var(--green-330);\r\n  --text-primary: var(--primary-230);\r\n  --text-secondary: var(--primary-330);\r\n  --text-warning: var(--yellow-300);\r\n  --textbox-markdown-syntax: var(--primary-360);\r\n  --user-profile-header-overflow-background: hsl(var(--primary-700-hsl)/0.5)\\`\r\n  .trim()\r\n  .split(\"\\\\n\")\r\n  .map((line) => line.trim())\r\n  .filter(Boolean)\r\n  .map((line) => line.split(\":\"))\r\n  .map(([key, value]) => [key.trim(), value.trim()]);\r\nconst theme = Object.fromEntries(themeMap);\r\nconst themeKeys = Object.keys(theme);\r\nconst themeValues = Object.values(theme);\r\n\r\nfunction getComputedColor(value) {\r\n  const div = document.createElement(\"div\");\r\n  div.setAttribute(\"style\", \\`background-color: \\${value}\\`);\r\n  document.body.appendChild(div);\r\n  const computed = getComputedStyle(div).getPropertyValue(\"background-color\");\r\n  document.body.removeChild(div);\r\n  div.remove();\r\n  return computed;\r\n}\r\n\r\nfunction getComputedColors() {\r\n  return themeValues.map(getComputedColor);\r\n}\r\n\r\nconst computedColors = getComputedColors();\r\n\r\nconst pinkPalette = [\r\n  \"rgb(244, 194, 219)\",\r\n  \"rgb(235, 139, 159)\",\r\n  \"rgb(108, 66, 88)\",\r\n  \"rgb(255, 244, 253)\",\r\n  \"rgb(255, 208, 233)\",\r\n  \"rgb(255, 243, 254)\",\r\n  \"rgb(251, 244, 215)\", // yellow wild card\r\n  \"rgb(255, 196, 182)\",\r\n];\r\n\r\nfunction invertColor(rgb) {\r\n  const [r, g, b] = rgb\r\n    .slice(4, -1)\r\n    .split(\", \")\r\n    .map((x) => parseInt(x, 10));\r\n  return \\`rgb(\\${255 - r}, \\${255 - g}, \\${255 - b})\\`;\r\n}\r\n\r\nfunction findClosestColor(color, options) {\r\n  const [r, g, b] = color\r\n    .slice(4, -1)\r\n    .split(\",\")\r\n    .map((x) => parseInt(x, 10));\r\n  const distances = options.map((option) => {\r\n    const [r2, g2, b2] = option\r\n      .slice(4, -1)\r\n      .split(\",\")\r\n      .map((x) => parseInt(x, 10));\r\n    return Math.sqrt(\r\n      Math.pow(r - r2, 2) + Math.pow(g - g2, 2) + Math.pow(b - b2, 2)\r\n    );\r\n  });\r\n  const minDistance = Math.min(...distances);\r\n  return options[distances.indexOf(minDistance)];\r\n}\r\n\r\nconst newTheme = Object.fromEntries(\r\n  themeKeys.map((key, index) => [\r\n    key,\r\n    findClosestColor(invertColor(computedColors[index]), pinkPalette),\r\n  ])\r\n);\r\n\r\nconst newThemeMap = Object.entries(newTheme)\r\n  .map(([key, value]) => \\`\\${key}: \\${value} !important;\\`)\r\n  .join(\"\\\\n\");\r\nconst newThemeString = \\`\r\n.theme-dark {\r\n  \\${newThemeMap}\r\n}\r\n\\`.trim();\r\n\r\nconst style = document.createElement(\"style\");\r\nstyle.textContent = newThemeString;\r\n\r\ndocument.head.appendChild(style);\r\n\n      `);\n}"],"once":[]}},"windowModifications":["(mainWindow) => {\n    mainWindow.setMinimumSize(100, 100);\n}"]}}